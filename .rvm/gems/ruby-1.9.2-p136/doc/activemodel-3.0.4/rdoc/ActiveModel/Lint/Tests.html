<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>Module: ActiveModel::Lint::Tests</title>

	<link rel="stylesheet" href="../../rdoc.css" type="text/css" media="screen" />

	<script src="../../js/jquery.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../../js/thickbox-compressed.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../../js/quicksearch.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../../js/darkfish.js" type="text/javascript"
		charset="utf-8"></script>

</head>
<body class="module">

	<div id="metadata">
		<div id="home-metadata">
			<div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../../index.html">Home</a>
          <a href="../../index.html#classes">Classes</a>
          <a href="../../index.html#methods">Methods</a>
        </h3>
			</div>
		</div>

		<div id="file-metadata">
			<div id="file-list-section" class="section">
				<h3 class="section-header">In Files</h3>
				<div class="section-body">
					<ul>
					
						<li><a href="../../lib/active_model/lint_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="lib/active_model/lint.rb">lib/active_model/lint.rb</a></li>
					
					</ul>
				</div>
			</div>

			
		</div>

		<div id="class-metadata">

			<!-- Parent Class -->
			

			<!-- Namespace Contents -->
			

			<!-- Method Quickref -->
			
			<div id="method-list-section" class="section">
				<h3 class="section-header">Methods</h3>
				<ul class="link-list">
					
					<li><a href="#method-i-assert_boolean">#assert_boolean</a></li>
					
					<li><a href="#method-i-model">#model</a></li>
					
					<li><a href="#method-i-test_errors_aref">#test_errors_aref</a></li>
					
					<li><a href="#method-i-test_errors_full_messages">#test_errors_full_messages</a></li>
					
					<li><a href="#method-i-test_model_naming">#test_model_naming</a></li>
					
					<li><a href="#method-i-test_persisted%3F">#test_persisted?</a></li>
					
					<li><a href="#method-i-test_to_key">#test_to_key</a></li>
					
					<li><a href="#method-i-test_to_param">#test_to_param</a></li>
					
					<li><a href="#method-i-test_valid%3F">#test_valid?</a></li>
					
				</ul>
			</div>
			

			<!-- Included Modules -->
			
		</div>

		<div id="project-metadata">
			
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="../../images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value=""
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
					<li><a href="../../ActiveModel/AttributeMethods.html">ActiveModel::AttributeMethods</a></li>
				
					<li><a href="../../ActiveModel/AttributeMethods/ClassMethods.html">ActiveModel::AttributeMethods::ClassMethods</a></li>
				
					<li><a href="../../ActiveModel/AttributeMethods/ClassMethods/AttributeMethodMatcher.html">ActiveModel::AttributeMethods::ClassMethods::AttributeMethodMatcher</a></li>
				
					<li><a href="../../ActiveModel/BlockValidator.html">ActiveModel::BlockValidator</a></li>
				
					<li><a href="../../ActiveModel/Callbacks.html">ActiveModel::Callbacks</a></li>
				
					<li><a href="../../ActiveModel/Conversion.html">ActiveModel::Conversion</a></li>
				
					<li><a href="../../ActiveModel/DeprecatedErrorMethods.html">ActiveModel::DeprecatedErrorMethods</a></li>
				
					<li><a href="../../ActiveModel/Dirty.html">ActiveModel::Dirty</a></li>
				
					<li><a href="../../ActiveModel/EachValidator.html">ActiveModel::EachValidator</a></li>
				
					<li><a href="../../ActiveModel/Errors.html">ActiveModel::Errors</a></li>
				
					<li><a href="../../ActiveModel/Lint.html">ActiveModel::Lint</a></li>
				
					<li><a href="../../ActiveModel/Lint/Tests.html">ActiveModel::Lint::Tests</a></li>
				
					<li><a href="../../ActiveModel/MassAssignmentSecurity.html">ActiveModel::MassAssignmentSecurity</a></li>
				
					<li><a href="../../ActiveModel/MassAssignmentSecurity/BlackList.html">ActiveModel::MassAssignmentSecurity::BlackList</a></li>
				
					<li><a href="../../ActiveModel/MassAssignmentSecurity/ClassMethods.html">ActiveModel::MassAssignmentSecurity::ClassMethods</a></li>
				
					<li><a href="../../ActiveModel/MassAssignmentSecurity/PermissionSet.html">ActiveModel::MassAssignmentSecurity::PermissionSet</a></li>
				
					<li><a href="../../ActiveModel/MassAssignmentSecurity/Sanitizer.html">ActiveModel::MassAssignmentSecurity::Sanitizer</a></li>
				
					<li><a href="../../ActiveModel/MassAssignmentSecurity/WhiteList.html">ActiveModel::MassAssignmentSecurity::WhiteList</a></li>
				
					<li><a href="../../ActiveModel/MissingAttributeError.html">ActiveModel::MissingAttributeError</a></li>
				
					<li><a href="../../ActiveModel/Name.html">ActiveModel::Name</a></li>
				
					<li><a href="../../ActiveModel/Naming.html">ActiveModel::Naming</a></li>
				
					<li><a href="../../ActiveModel/Observer.html">ActiveModel::Observer</a></li>
				
					<li><a href="../../ActiveModel/Observing.html">ActiveModel::Observing</a></li>
				
					<li><a href="../../ActiveModel/Observing/ClassMethods.html">ActiveModel::Observing::ClassMethods</a></li>
				
					<li><a href="../../ActiveModel/Serialization.html">ActiveModel::Serialization</a></li>
				
					<li><a href="../../ActiveModel/Serializers.html">ActiveModel::Serializers</a></li>
				
					<li><a href="../../ActiveModel/Serializers/JSON.html">ActiveModel::Serializers::JSON</a></li>
				
					<li><a href="../../ActiveModel/Serializers/Xml.html">ActiveModel::Serializers::Xml</a></li>
				
					<li><a href="../../ActiveModel/Translation.html">ActiveModel::Translation</a></li>
				
					<li><a href="../../ActiveModel/Validations.html">ActiveModel::Validations</a></li>
				
					<li><a href="../../ActiveModel/Validations/AcceptanceValidator.html">ActiveModel::Validations::AcceptanceValidator</a></li>
				
					<li><a href="../../ActiveModel/Validations/Callbacks.html">ActiveModel::Validations::Callbacks</a></li>
				
					<li><a href="../../ActiveModel/Validations/Callbacks/ClassMethods.html">ActiveModel::Validations::Callbacks::ClassMethods</a></li>
				
					<li><a href="../../ActiveModel/Validations/ClassMethods.html">ActiveModel::Validations::ClassMethods</a></li>
				
					<li><a href="../../ActiveModel/Validations/ConfirmationValidator.html">ActiveModel::Validations::ConfirmationValidator</a></li>
				
					<li><a href="../../ActiveModel/Validations/ExclusionValidator.html">ActiveModel::Validations::ExclusionValidator</a></li>
				
					<li><a href="../../ActiveModel/Validations/FormatValidator.html">ActiveModel::Validations::FormatValidator</a></li>
				
					<li><a href="../../ActiveModel/Validations/HelperMethods.html">ActiveModel::Validations::HelperMethods</a></li>
				
					<li><a href="../../ActiveModel/Validations/InclusionValidator.html">ActiveModel::Validations::InclusionValidator</a></li>
				
					<li><a href="../../ActiveModel/Validations/LengthValidator.html">ActiveModel::Validations::LengthValidator</a></li>
				
					<li><a href="../../ActiveModel/Validations/NumericalityValidator.html">ActiveModel::Validations::NumericalityValidator</a></li>
				
					<li><a href="../../ActiveModel/Validations/PresenceValidator.html">ActiveModel::Validations::PresenceValidator</a></li>
				
					<li><a href="../../ActiveModel/Validator.html">ActiveModel::Validator</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>

	<div id="documentation">
		<h1 class="module">ActiveModel::Lint::Tests</h1>

		<div id="description">
			<h2>Active Model <a href="../Lint.html">Lint</a> <a href="Tests.html">Tests</a></h2>
<p>
You can test whether an object is compliant with the Active Model API by
including <tt>ActiveModel::Lint::Tests</tt> in your TestCase. It will
include tests that tell you whether your object is fully compliant, or if
not, which aspects of the API are not implemented.
</p>
<p>
These tests do not attempt to determine the semantic correctness of the
returned values. For instance, you could implement valid? to always return
true, and the tests would pass. It is up to you to ensure that the values
are semantically meaningful.
</p>
<p>
Objects you pass in are expected to return a compliant object from a call
to to_model. It is perfectly fine for to_model to return self.
</p>

		</div>

		<!-- Constants -->
		

		<!-- Attributes -->
		

		<!-- Methods -->
		
		<div id="public-instance-method-details" class="method-section section">
			<h3 class="section-header">Public Instance Methods</h3>

		
			<div id="test-errors-aref-method" class="method-detail ">
				<a name="method-i-test_errors_aref"></a>

				<div class="method-heading">
				
					<span class="method-name">test_errors_aref</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<h2><a href="../Errors.html">Errors</a> Testing</h2>
<p>
Returns an object that has :[] and :full_messages defined on it. See below
for more details.
</p>
<p>
Returns an Array of Strings that are the errors for the attribute in
question. If localization is used, the Strings should be localized for the
current locale. If no error is present, this method should return an empty
Array.
</p>
					

					
					<div class="method-source-code"
						id="test-errors-aref-source">
<pre>
    <span class="ruby-comment cmt"># File lib/active_model/lint.rb, line 91</span>
91:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_errors_aref</span>
92:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:errors</span>), <span class="ruby-value str">&quot;The model should respond to errors&quot;</span>
93:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">errors</span>[<span class="ruby-value">:hello</span>].<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>), <span class="ruby-node">&quot;errors#[] should return an Array&quot;</span>
94:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="test-errors-full-messages-method" class="method-detail ">
				<a name="method-i-test_errors_full_messages"></a>

				<div class="method-heading">
				
					<span class="method-name">test_errors_full_messages</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns an Array of all error messages for the object. Each message should
contain information about the field, if applicable.
</p>
					

					
					<div class="method-source-code"
						id="test-errors-full-messages-source">
<pre>
     <span class="ruby-comment cmt"># File lib/active_model/lint.rb, line 98</span>
 98:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_errors_full_messages</span>
 99:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:errors</span>), <span class="ruby-value str">&quot;The model should respond to errors&quot;</span>
100:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">errors</span>.<span class="ruby-identifier">full_messages</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>), <span class="ruby-node">&quot;errors#full_messages should return an Array&quot;</span>
101:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="test-model-naming-method" class="method-detail ">
				<a name="method-i-test_model_naming"></a>

				<div class="method-heading">
				
					<span class="method-name">test_model_naming</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<h2><a href="../Naming.html">Naming</a></h2>
<p>
Model.model_name must return a string with some convenience methods as
:human and :partial_path. Check <a
href="../Naming.html">ActiveModel::Naming</a> for more information.
</p>
					

					
					<div class="method-source-code"
						id="test-model-naming-source">
<pre>
    <span class="ruby-comment cmt"># File lib/active_model/lint.rb, line 72</span>
72:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_model_naming</span>
73:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:model_name</span>), <span class="ruby-value str">&quot;The model should respond to model_name&quot;</span>
74:         <span class="ruby-identifier">model_name</span> = <span class="ruby-identifier">model</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">model_name</span>
75:         <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">String</span>, <span class="ruby-identifier">model_name</span>
76:         <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">String</span>, <span class="ruby-identifier">model_name</span>.<span class="ruby-identifier">human</span>
77:         <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">String</span>, <span class="ruby-identifier">model_name</span>.<span class="ruby-identifier">partial_path</span>
78:         <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">String</span>, <span class="ruby-identifier">model_name</span>.<span class="ruby-identifier">singular</span>
79:         <span class="ruby-identifier">assert_kind_of</span> <span class="ruby-constant">String</span>, <span class="ruby-identifier">model_name</span>.<span class="ruby-identifier">plural</span>
80:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="test-persisted--method" class="method-detail ">
				<a name="method-i-test_persisted%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">test_persisted?</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<h2>Responds to <tt>persisted?</tt></h2>
<p>
Returns a boolean that specifies whether the object has been persisted yet.
This is used when calculating the URL for an object. If the object is not
persisted, a form for that object, for instance, will be POSTed to the
collection. If it is persisted, a form for the object will be PUT to the
URL for the object.
</p>
					

					
					<div class="method-source-code"
						id="test-persisted--source">
<pre>
    <span class="ruby-comment cmt"># File lib/active_model/lint.rb, line 62</span>
62:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_persisted?</span>
63:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:persisted?</span>), <span class="ruby-value str">&quot;The model should respond to persisted?&quot;</span>
64:         <span class="ruby-identifier">assert_boolean</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">persisted?</span>, <span class="ruby-value str">&quot;persisted?&quot;</span>
65:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="test-to-key-method" class="method-detail ">
				<a name="method-i-test_to_key"></a>

				<div class="method-heading">
				
					<span class="method-name">test_to_key</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<h2>Responds to <tt>to_key</tt></h2>
<p>
Returns an Enumerable of all (primary) key attributes or nil if
model.persisted? is false
</p>
					

					
					<div class="method-source-code"
						id="test-to-key-source">
<pre>
    <span class="ruby-comment cmt"># File lib/active_model/lint.rb, line 23</span>
23:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_key</span>
24:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:to_key</span>), <span class="ruby-value str">&quot;The model should respond to to_key&quot;</span>
25:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">persisted?</span>() <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">end</span>
26:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">to_key</span>.<span class="ruby-identifier">nil?</span>
27:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="test-to-param-method" class="method-detail ">
				<a name="method-i-test_to_param"></a>

				<div class="method-heading">
				
					<span class="method-name">test_to_param</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<h2>Responds to <tt>to_param</tt></h2>
<p>
Returns a string representing the object&#8217;s key suitable for use in
URLs or nil if model.persisted? is false.
</p>
<p>
Implementers can decide to either raise an exception or provide a default
in case the record uses a composite primary key. There are no tests for
this behavior in lint because it doesn&#8217;t make sense to force any of
the possible implementation strategies on the implementer. However, if the
resource is not persisted?, then to_param should always return nil.
</p>
					

					
					<div class="method-source-code"
						id="test-to-param-source">
<pre>
    <span class="ruby-comment cmt"># File lib/active_model/lint.rb, line 39</span>
39:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_to_param</span>
40:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:to_param</span>), <span class="ruby-value str">&quot;The model should respond to to_param&quot;</span>
41:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">to_key</span>() [<span class="ruby-value">1</span>] <span class="ruby-keyword kw">end</span>
42:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">persisted?</span>() <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">end</span>
43:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">to_param</span>.<span class="ruby-identifier">nil?</span>
44:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="test-valid--method" class="method-detail ">
				<a name="method-i-test_valid%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">test_valid?</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<h2>Responds to <tt>valid?</tt></h2>
<p>
Returns a boolean that specifies whether the object is in a valid or
invalid state.
</p>
					

					
					<div class="method-source-code"
						id="test-valid--source">
<pre>
    <span class="ruby-comment cmt"># File lib/active_model/lint.rb, line 50</span>
50:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">test_valid?</span>
51:         <span class="ruby-identifier">assert</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:valid?</span>), <span class="ruby-value str">&quot;The model should respond to valid?&quot;</span>
52:         <span class="ruby-identifier">assert_boolean</span> <span class="ruby-identifier">model</span>.<span class="ruby-identifier">valid?</span>, <span class="ruby-value str">&quot;valid?&quot;</span>
53:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="private-instance-method-details" class="method-section section">
			<h3 class="section-header">Private Instance Methods</h3>

		
			<div id="assert-boolean-method" class="method-detail ">
				<a name="method-i-assert_boolean"></a>

				<div class="method-heading">
				
					<span class="method-name">assert_boolean</span><span
						class="method-args">(result, name)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="assert-boolean-source">
<pre>
     <span class="ruby-comment cmt"># File lib/active_model/lint.rb, line 109</span>
109:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assert_boolean</span>(<span class="ruby-identifier">result</span>, <span class="ruby-identifier">name</span>)
110:           <span class="ruby-identifier">assert</span> <span class="ruby-identifier">result</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">true</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">result</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-node">&quot;#{name} should be a boolean&quot;</span>
111:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="model-method" class="method-detail ">
				<a name="method-i-model"></a>

				<div class="method-heading">
				
					<span class="method-name">model</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="model-source">
<pre>
     <span class="ruby-comment cmt"># File lib/active_model/lint.rb, line 104</span>
104:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">model</span>
105:           <span class="ruby-identifier">assert</span> <span class="ruby-ivar">@model</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:to_model</span>), <span class="ruby-value str">&quot;The object should respond_to to_model&quot;</span>
106:           <span class="ruby-ivar">@model</span>.<span class="ruby-identifier">to_model</span>
107:         <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	

	</div>


	<div id="rdoc-debugging-section-dump" class="debugging-section">
	
		<p>Disabled; run with --debug to generate this.</p>
	
	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>

</body>
</html>

